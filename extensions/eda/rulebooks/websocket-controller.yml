---
- name: Demo rules with websocket as source
  hosts: all

  sources:
    - name: websocket
      smartgic.eda.websocket:
        host: localhost
        port: 8181
        path: /core

  rules:
    - name: Run job template
      condition: event.type == "skill-ovos-hello-world.openvoiceos.activate"
      action:
        run_job_template:
          name: ovos-history
          organization: Default
          job_args:
            extra_vars:
              name: GaÃ«tan
          retries: 2
          delay: 10
